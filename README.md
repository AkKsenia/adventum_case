**Анализ данных паблика ВКонтакте**
===============================================================================

**Сбор данных**
---------------

В рамках анализа влияния различных факторов на количество лайков на постах в паблике с рисунками ([https://vk.com/iiiniamiii](https://vk.com/iiiniamiii)) был использован парсер для сбора данных со страницы паблика (`main.py`, `config.json`). Результатом работы парсера стала таблица `posts_data.csv`, содержащая информацию о каждом посте, включая идентификатор поста в группе (`id_`), дату и время публикации (`date_`), а также количество лайков на посте (`likes_`).

**Импорт данных**
-------------------------------

Данные были импортированы из `posts_data.csv` в предварительно созданную в `pgAdmin 4` таблицу `posts_data` с помощью специальной команды.

**Анализ запросов**
-----------------

Были написаны запросы, позволяющие понять, что больше всего влияет на количество лайков - время суток публикации, день недели или промежуток между постами.

**Результаты**
----------

Графики, соответствующие запросам, показали, что наиболее явно прослеживается зависимость среднего числа лайков от времени суток.

**Расчет статистических величин**
-------------------------

Был выполнен расчет различных статистических величин (`metrics.py`). Результаты запросов, представленные на Рис. 2, 5, 8, были загружены в csv-файлы, затем три набора данных из файлов `data1.csv`, `data2.csv` и `data3.csv` были открыты с помощью функции `pd.read_csv`. Каждый набор данных хранился в отдельном датафрейме (`df_time`, `df_day` и `df_interval`).

**Структура датафрейма**
---------------------

Каждый датафрейм имел две колонки: `time_of_day` и `avg_likes_amount` в `df_time`, `day_of_week` и `avg_likes_amount` в `df_day`, и `date_diff` и `avg_likes_amount` в `df_interval`; они содержали категориальные (время суток, день недели) и количественные (число дней между постами, число лайков) данные.

**Работа с категориальными данными**
-------------------------------

Чтобы работать с категориальными данными, создавались словари (`time_of_day_mapping` и `day_of_week_mapping`), которые сопоставляют каждое категориальное значение с числом. Затем использовалась функция `map` для замены категориальных значений на соответствующие числа в датафреймах. После этого рассчитывался коэффициент корреляции Пирсона между количественными данными (`avg_likes_amount`) и числовыми значениями категориальных данных (`time_of_day_num` и `day_of_week_num`).

**Тест Краскела-Уоллиса**
---------------------

Был проведен тест Краскела-Уоллиса, который проверяет, есть ли статистически значимая разница в средних значениях количественных данных (`avg_likes_amount`) для разных категориальных значений (`time_of_day` и `day_of_week`). Тест Краскела-Уоллиса возвращал статистику `H` и `p-value`.

**Результаты и обсуждение**
-------------------------

Результаты анализа противоречивы. С одной стороны, коэффициент корреляции Пирсона указывает на сильную положительную корреляцию между временем суток и количеством лайков, а с другой стороны, тест Краскела-Уоллиса не находит статистически значимых различий в количестве лайков по разным временам суток и дням недели (`p-value` > 0,05). Можно предположить, что одной из причин такой нестабильности является малый размер выборки.

**Заключение**
----------

В целом, данные показали, что время суток оказывает большее влияние на количество лайков по сравнению с другими факторами. Пользователи социальных сетей наиболее активны вечером и ночью, когда у них есть больше свободного времени, отсюда и следует наибольшая степень влияния.
